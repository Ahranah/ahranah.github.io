---
layout: post
title: "프림스트라, 프림과 다익스트라 이해하기"
date: 2025-12-11 17:12:34 +0900
categories: Algorithm
tags: [다익스트라, 프림, 그리디]
---

프림은 MST 최소비용 신장 트리를 만드는 알고리즘이고, 다익스트라는 최단경로를 만드는 알고리즘이다.

- Minimum Spanning Tree는 모든 정점이 연결되어 있고 가중치 합이 최소가 되는 트리를 말한다.
- 그래프는 모든 정점이 연결되어 사이클이 생겨도 되는데, 이 중에서 acylic하면 트리라고 말한다.

둘 다 PQ를 이용해 구현하고, 가중치의 최소를 뽑는 공통점 때문에 코딩테스트를 하다가 프림스트라를 구현하는 일이 적지 않다.

결론을 말하면, PQ에 넣는 값이 다르다. 프림은 가중치가 담긴 노드(a -> b)를 모두 PQ에 넣어놓고 가장 작은 가중치를 뽑는다. 

다익스트라는 현재까지 진행된 (다음 노드까지 이동한다고 가정했을 때의) 가중치의 합이 가장 작은 값을 PQ에서 뽑는다.

 

## Greedy

프림과 다익스트라 모두 현재 상황에서 가장 좋은 선택지를 선택한다는 점에서 그리디 알고리즘 중 하나라고 볼 수 있다. 

그리디는 현재 상황에서 최적의 해를 선택하는 알고리즘인데, 지금의 최적이 결과로 봤을때도 최적의 해가 되지 않을 수 있다.

- 거스름돈 반환 문제

따라서, 그리디 알고리즘은 다음과 같은 3가지 절차를 거친다. 

1. Selection: Greedy한 해답을 Solution Set에 넣는다.
2. Feasibility Check: 해답이 실행 가능한지 결정한다.
3. Solution Check: 최적의 해가 되는지 확인한다.

이를 최소비용 신장 트리로 예시를 들면, 

시작점 i를 선택하고, 모든 노드에 대해 방문 여부를 체크하는 boolean[]을 만든다.

1. (시작 노드, 종료 노드, 가중치)를 PQ에 넣을건데,PQ의 조건은 가중치를 우선순위로 둔다.
2. 현재 노드 i에 대해이동 가능한 노드만 PQ에 넣는다.
3. 최적의 해가 되는지 확인하는 절차는, 순환하지 않음을 증명하면 되는데 이동 가능한 노드의 조건을 지금 노드와 연결된 노드 중에서, 방문하지 않은 노드만을 조건으로 하면 된다.

{% include figure.liquid loading="eager" path="assets/img/posts/Algorithm/2025-12-11-프림스트라-프림과-다익스트라-이해하기/img.png" class="img-fluid rounded z-depth-1" %}

프림은

1. b에서 시작하면, PQ에 (a, d)를 넣고 d를 선택한다. 그리고 d를 방문 처리한다.
2. d에서 이동가능한 (c, d, f)를 넣고 e를 선택, ... e-> c -> a -> f
3. f를 고르게 되는 건 a에서 이동가능한 점이 없어서 PQ에 있던 f를 선택하게 된다.

 

다익스트라는 일단 프림과 목적이 다르다. MST에 쓰는 게 아니라, 특정 위치에 도달하는 최단 거리를 구하는 것이다. 

{% include figure.liquid loading="eager" path="assets/img/posts/Algorithm/2025-12-11-프림스트라-프림과-다익스트라-이해하기/img_1.png" class="img-fluid rounded z-depth-1" %}

{% include figure.liquid loading="eager" path="assets/img/posts/Algorithm/2025-12-11-프림스트라-프림과-다익스트라-이해하기/img_2.png" class="img-fluid rounded z-depth-1" %}

1. PQ의 우선순위를 가중치의 합으로 둔다.
2. 현재 갈 수 있는 (방문하지 않은) 노드까지 가중치를 누적해서 PQ에 넣는다.
3. 최적의 해는, Math.min으로 항상 갱신한다.

 

{% include figure.liquid loading="eager" path="assets/img/posts/Algorithm/2025-12-11-프림스트라-프림과-다익스트라-이해하기/Screenshot 2025-12-11 at 3.51.39 PM.png" class="img-fluid rounded z-depth-1" %}

위와 같은 경우는, 1, 2번인 그리디 선택과 이동 가능이 모두 만족한 사례다. 이를 위해 최적의 해로 최소값을 계속 갱신해준다.